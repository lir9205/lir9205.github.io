{"meta":{"title":"Blog","subtitle":null,"description":null,"author":"qingtian","url":"https://lir9205.github.io"},"pages":[],"posts":[{"title":"执行gulp命令报错记录","slug":"gulp相关","date":"2019-06-12T09:05:01.000Z","updated":"2019-06-12T09:27:39.000Z","comments":true,"path":"2019/06/12/gulp相关/","link":"","permalink":"https://lir9205.github.io/2019/06/12/gulp相关/","excerpt":"","text":"#Task function must be specified在执行gulp命令时控制台报错： Task function must be specified 解决方法： 1.使用$ gulp -v 查看gulp的Local version版本和package.json里面的版本是否相同 123$ gulp -vCLI version: 2.2.0Local version: 4.0.2 12345678910111213141516171819202122232425262728293031323334353637383940414243&#123; &quot;name&quot;: &quot;hexo-site&quot;, &quot;version&quot;: &quot;0.0.0&quot;, &quot;private&quot;: true, &quot;hexo&quot;: &#123; &quot;version&quot;: &quot;3.8.0&quot; &#125;, &quot;dependencies&quot;: &#123; &quot;ejs&quot;: &quot;^2.6.1&quot;, &quot;hexo&quot;: &quot;^3.8.0&quot;, &quot;hexo-abbrlink&quot;: &quot;^2.0.5&quot;, &quot;hexo-deployer-git&quot;: &quot;^1.0.0&quot;, &quot;hexo-generator-archive&quot;: &quot;^0.1.5&quot;, &quot;hexo-generator-category&quot;: &quot;^0.1.3&quot;, &quot;hexo-generator-feed&quot;: &quot;^1.2.2&quot;, &quot;hexo-generator-index&quot;: &quot;^0.2.1&quot;, &quot;hexo-generator-json-content&quot;: &quot;^4.1.3&quot;, &quot;hexo-generator-sitemap&quot;: &quot;^1.2.0&quot;, &quot;hexo-generator-tag&quot;: &quot;^0.2.0&quot;, &quot;hexo-renderer-ejs&quot;: &quot;^0.3.1&quot;, &quot;hexo-renderer-marked&quot;: &quot;^1.0.1&quot;, &quot;hexo-server&quot;: &quot;^0.3.3&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;gulp&quot;: &quot;^4.0.2&quot;, &quot;gulp-autoprefixer&quot;: &quot;^6.1.0&quot;, &quot;gulp-htmlclean&quot;: &quot;^2.7.22&quot;, &quot;gulp-htmlmin&quot;: &quot;^5.0.1&quot;, &quot;gulp-jshint&quot;: &quot;^2.1.0&quot;, &quot;gulp-less&quot;: &quot;^4.0.1&quot;, &quot;gulp-minify-css&quot;: &quot;^1.2.4&quot;, &quot;gulp-notify&quot;: &quot;^3.2.0&quot;, &quot;gulp-path&quot;: &quot;^4.0.0&quot;, &quot;gulp-plumber&quot;: &quot;^1.2.1&quot;, &quot;gulp-rename&quot;: &quot;^1.4.0&quot;, &quot;gulp-rev-append&quot;: &quot;^0.1.8&quot;, &quot;gulp-sequence&quot;: &quot;^1.0.0&quot;, &quot;gulp-uglify&quot;: &quot;^3.0.2&quot;, &quot;gulp-watch&quot;: &quot;^5.0.1&quot;, &quot;jshint&quot;: &quot;^2.10.2&quot;, &quot;jshint-stylish&quot;: &quot;^2.2.1&quot; &#125;&#125; gulp 3 和 gulp 4运行方式是不一样的，所以会出现错误。Gulp3，如果有一个任务A，B和C的列表，你想在一个序列中运行（确保A在B开始之前完成，而B在C开始之前完成），代码如下： 123456789gulp.task(&apos;a&apos;, function () &#123; // Do something.&#125;);gulp.task(&apos;b&apos;, [&apos;a&apos;], function () &#123; // Do some stuff.&#125;);gulp.task(&apos;c&apos;, [&apos;b&apos;], function () &#123; // Do some more stuff.&#125;); Gulp 4最大的变化就是你不能像以前那样传递一个依赖任务列表。否则会得到以下错误： 123456789101112131415assert.js:42 throw new errors.AssertionError(&#123; ^AssertionError [ERR_ASSERTION]: Task function must be specified at Gulp.set [as _setTask] (/Users/yscredit/Desktop/myBlog/node_modules/_undertaker@1.2.1@undertaker/lib/set-task.js:10:3) at Gulp.task (/Users/yscredit/Desktop/myBlog/node_modules/_undertaker@1.2.1@undertaker/lib/task.js:13:8) at Object.&lt;anonymous&gt; (/Users/yscredit/Desktop/myBlog/themes/hexo-theme-snippet/gulpfile.js:105:10) at Module._compile (module.js:652:30) at Object.Module._extensions..js (module.js:663:10) at Module.load (module.js:565:32) at tryModuleLoad (module.js:505:12) at Function.Module._load (module.js:497:3) at Module.require (module.js:596:17) at require (internal/module.js:11:18) 你需要使用gulp.series和gulp.parallel，因为gulp任务现在只有两个参数。 gulp.series：按照顺序执行 gulp.paralle：可以并行计算12345678910111213gulp.task(&apos;my-tasks&apos;, gulp.series(&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, function() &#123; // Do something after a, b, and c are finished.&#125;));gulp.task(&apos;build&apos;, gulp.parallel(&apos;styles&apos;, &apos;scripts&apos;, &apos;images&apos;, function () &#123; // Build the website.&#125;));&lt;!-- 或者这样 --&gt;gulp.task(&apos;my-tasks&apos;, gulp.series(&apos;a&apos;, gulp.parallel(&apos;styles&apos;,&apos;scripts&apos;, &apos;images&apos;), &apos;b&apos;, &apos;c&apos;, function() &#123; // Do something after a, b, and c are finished.&#125;)); 相关任务必须在被调用之前发生。 #gulp4.0 存在的错误信息 The following tasks did not complete: default,Did you forget to signal async completion? 当gulp为如下代码的时候： 1234567// 以下代码会执行在node环境下const gulp = require( &quot;gulp&quot; );// 创建一个gulp的任务gulp.task( &quot;default&quot;,function()&#123; console.log( &quot;gulp default task&quot; );&#125; ); 执行 $ gulp 打印： The following tasks did not complete: default, Did you forget to signal async completion? ##修改方法：使用 async 和 await： 1234567// 以下代码会执行在node环境下const gulp = require( &quot;gulp&quot; );// 创建一个gulp的任务gulp.task( &quot;default&quot;,async() =&gt; &#123; console.log( &quot;gulp default task&quot; );&#125; ); ##官方解决办法：在不使用文件流的情况下，向task的函数里传入一个名叫done的回调函数，以结束task，如下代码所示: 12345678// 以下代码会执行在node环境下const gulp = require( &quot;gulp&quot; );// 创建一个gulp的任务gulp.task( &quot;default&quot;,function(done)&#123; console.log( &quot;gulp default task&quot; ); done();&#125; ); done回调函数的作用是在task完成时通知Gulp（而不是返回一个流），而task里的所有其他功能都纯粹依赖Node来实现。","categories":[],"tags":[{"name":"gulp","slug":"gulp","permalink":"https://lir9205.github.io/tags/gulp/"}],"keywords":[]},{"title":"npm安装package.json中的模块依赖","slug":"postName","date":"2019-06-12T03:35:01.000Z","updated":"2019-06-12T08:04:38.000Z","comments":true,"path":"2019/06/12/postName/","link":"","permalink":"https://lir9205.github.io/2019/06/12/postName/","excerpt":"","text":"#package有两种依赖： dependencies —— 运行依赖，依赖的项该是正常运行该包时所需要的依赖项 devDependencies —— 开发依赖，开发的时候需要的依赖项，像一些进行单元测试之类的包。 安装依赖命令npm一键安装package.json里的所有依赖文件 1234$ npm install``` 只安装package.json里的dependencies（运行依赖）文件 $ npm install –dependencies 12只安装package.json里的devDependencies（开发依赖）文件 $ npm install –devDependencies 1234# 更新依赖包到最新版本安装： $ sudo npm install -g npm-check-updates 123使用：检查package.json中依赖包的最新版本：在package.json所在目录执行命令： $ ncu 1更新依赖包到最新版本： $ ncu -u 1更新全部依赖包到最新版本(包括当前指定版本范围满足最新版本号的,比如^4.2.0 -&gt; ^4.3.0)： $ ncu -a 1最后再执行 $ npm install```","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"https://lir9205.github.io/tags/npm/"}],"keywords":[]},{"title":"Hello World","slug":"hello-world","date":"2019-06-12T02:49:40.000Z","updated":"2019-06-12T02:49:40.000Z","comments":true,"path":"2019/06/12/hello-world/","link":"","permalink":"https://lir9205.github.io/2019/06/12/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[],"keywords":[]}]}